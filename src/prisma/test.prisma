datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model Tender {
    id                String    @id @default(uuid())
    tenderNumber      String    @unique
    tenderDescription String    @db.Text
    closingDate       DateTime  @default(now())
    closingTime       String    @default("10:00")
    Status            Status    @default(OPEN)
    tenderClient      String    @db.VarChar(255)
    briefing          Briefing? // Link to Briefing model
    createdAt         DateTime  @default(now())
    updatedAt         DateTime  @updatedAt
}

model Briefing {
    id               String         @id @default(uuid())
    tenderId         String         @unique
    tender           Tender         @relation(fields: [tenderId], references: [id])
    briefingStatus   BriefingStatus @default(NO)
    briefingDate     DateTime?
    briefingLocation String?        @db.VarChar(255)

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

enum Status {
    OPEN
    IN_PROGRESS
    SUBMITTED
    AWARDED
}

enum BriefingStatus {
    YES
    NO
}
